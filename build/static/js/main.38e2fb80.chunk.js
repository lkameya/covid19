(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{34:function(e,t,a){e.exports=a(55)},39:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),u=a.n(c),o=(a(39),a(16)),i=a(1),s=a(5),l=a(22);var f=a(23),b=a.n(f);function d(e){var t=e.data,a=e.type,c=Object(n.useRef)(),u=Object(n.useRef)(),o=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new l.a((function(e){e.forEach((function(e){c(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),r}(u);return Object(n.useEffect)((function(){var e=Object(s.d)(c.current);if(o){t.sort((function(e,t){return t.value-e.value}));var n=Object(s.b)().paddingInner(.2).domain(t.map((function(e,t){return t}))).range([0,o.height]),r=Object(s.c)().domain([0,Object(s.a)(t,(function(e){return e.value}))]).range([0,o.width]);e.selectAll(".bar").data(t,(function(e,t){return e.name})).join((function(e){return e.append("rect").attr("y",(function(e,t){return n(t)}))})).attr("fill",(function(e){return e.color})).attr("class","bar").attr("x",0).attr("height",n.bandwidth()).transition().attr("width",(function(e){return r(e.value)})).attr("y",(function(e,t){return n(t)})),e.selectAll(".label").data(t,(function(e,t){return e.name})).join((function(e){return e.append("text").attr("y",(function(e,t){return n(t)+n.bandwidth()/2+5}))})).text((function(e){return"".concat(b.a.countryCode(function(e){var t;switch(e){case"China":t="CN";break;case"US":t="US";break;case"Canada":t="CA";break;case"Germany":t="DE";break;case"Italy":t="IT";break;case"Spain":t="ES";break;case"Brazil":t="BR";break;case"Iran":t="IR";break;case"France":t="FR";break;case"Korea, South":t="KR";break;case"Switzerland":t="CH";break;case"Japan":t="JP";break;case"United Kingdom":t="GB";break;case"Netherlands":t="NL";break;default:t="GG"}return t}(e.name)).emoji," ").concat(e.name," (").concat(e.value," ").concat("cases"===a?"cases":"deaths",")")})).attr("class","label").attr("x",10).transition().attr("y",(function(e,t){return n(t)+n.bandwidth()/2+5}))}}),[t,o,a]),r.a.createElement("div",{ref:u,style:{marginBottom:"2rem"}},r.a.createElement("svg",{ref:c}))}var m=["Brazil","China","Italy","Germany","Spain","Canada","US","Iran","France","Korea, South","Switzerland","Japan","United Kingdom","Netherlands"],h=a(24),v=a.n(h),k=(a(54),function(e){var t;switch(e){case"China":t="#d6344740";break;case"Brazil":t="#ffe75e80";break;case"Italy":t="#baf1a1";break;case"Germany":t="#ff1e5680";break;case"France":t="#19296580";break;case"Canada":t="#ff1e5690";break;case"US":t="#b21f6680";break;case"Iran":t="#1eb2a6";break;case"Spain":t="#feb72b";break;case"Korea, South":t="#4a47a350";break;case"Switzerland":t="#d6344740";break;case"Japan":t="#d6344720";break;case"United Kingdom":t="#00508280";break;case"Netherlands":t="#ffa41b95";break;default:t="black"}return t});var p=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(0),s=Object(i.a)(u,2),l=s[0],f=s[1],b=Object(n.useState)(0),h=Object(i.a)(b,2),p=h[0],j=h[1],E=Object(n.useState)([]),O=Object(i.a)(E,2),y=O[0],S=O[1],g=Object(n.useState)("cases"),w=Object(i.a)(g,2),C=w[0],I=w[1];Object(n.useEffect)((function(){fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.ok&&e.json()})).then((function(e){c(e),f(e.US.length)})).catch((function(e){return console.error(e)}))}),[]),function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){!a||p>l-1||(S(Object(o.a)(Object.keys(a).map((function(e,t){return{name:e,value:"cases"===C?a[e][p].confirmed:a[e][p].deaths,color:k(e),date:a[e][p].date}})).filter((function(e){return m.some((function(t){return t.includes(e.name)}))})))),j(p+1))}),1e3);var R=function(e){I(e.target.value),p>l-1&&S(Object(o.a)(Object.keys(a).map((function(e,t){return{name:e,value:"deaths"===C?a[e][p-1].confirmed:a[e][p-1].deaths,color:k(e),date:a[e][p-1].date}})).filter((function(e){return m.some((function(t){return t.includes(e.name)}))}))))};return(r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Covid-19"),r.a.createElement(n.Suspense,null,r.a.createElement("h2",null,y[0]&&v()(y[0].date,"YYYY-MM-DD").format("DD/MM/YYYY")),r.a.createElement("h2",null,"Day ",p+1),r.a.createElement("div",{className:"options"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"cases",checked:"cases"===C,onChange:R})," Cases"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"deaths",checked:"deaths"===C,onChange:R})," Deaths")),r.a.createElement("div",{className:"container"},r.a.createElement(d,{data:y,type:C}))),r.a.createElement("button",{onClick:function(){return j(0)}},"Restart"),r.a.createElement("footer",null,r.a.createElement("div",null,"Made by ",r.a.createElement("a",{href:"https://www.github.com/lkameya"},"Leo")),r.a.createElement("div",null,"Data from ",r.a.createElement("a",{href:"https://github.com/pomber/covid19"},"@pomber")))))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.38e2fb80.chunk.js.map